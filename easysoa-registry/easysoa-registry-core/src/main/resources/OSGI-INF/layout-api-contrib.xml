<?xml version="1.0" encoding="UTF-8"?>
<component name="org.easysoa.core.contrib.layout.api">
  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager" point="layouts">
    
    <layout name="serviceapi_tech">
      <templates>
        <template mode="any">/layouts/layout_easysoa_template.xhtml</template>
      </templates>
      <properties mode="any">
      	<property name="title">Technical information</property>
      </properties>
      <rows>
        <row>
          <widget>apidef_url</widget>
        </row>
      </rows>
      <widget name="apidef_url" type="text">
	      <labels>
	        <label mode="any">label.easysoa.apidef.url</label>
	      </labels>
	      <translated>true</translated>
	      <fields>
	        <field>api:url</field>
	      </fields>
          <properties mode="any">
		    <property name="required">true</property>
			<property name="validator">#{easysoaValidator.validateUrl}</property>
		  </properties>
	  </widget>
    </layout>
    
    <layout name="serviceapi_spec">
      <templates>
        <template mode="any">/layouts/layout_easysoa_template.xhtml</template>
      </templates>
      <properties mode="any">
      	<property name="title">Specifications</property>
      </properties>
      <rows>
        <row>
          <widget>apidef_application</widget>
        </row>
        <row>
          <widget>apidef_protocols</widget>
        </row>
      </rows>
	  <widget name="apidef_application" type="selectOneDirectory">
	    <labels>
	        <label mode="any">label.easysoa.apidef.application</label>
	    </labels>
	    <translated>true</translated>
	    <fields>
	        <field>api:application</field>
	    </fields>
	    <properties mode="any">
	        <property name="directoryName">application</property>
	        <property name="localize">true</property>
	    </properties>
	  </widget>
      <widget name="apidef_protocols" type="text">
	      <labels>
	        <label mode="any">label.easysoa.apidef.protocols</label>
	      </labels>
	      <translated>true</translated>
	      <fields>
	        <field>api:protocols</field>
	      </fields>
	  </widget>
    </layout>
    
  </extension>
</component>
