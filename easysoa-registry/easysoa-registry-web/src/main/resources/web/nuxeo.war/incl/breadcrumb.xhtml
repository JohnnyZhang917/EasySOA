<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:s="http://jboss.com/products/seam/taglib"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  >
<!-- 
  <div class="printButton">
    <ui:include src="/incl/document_actions_upperbuttons.xhtml"/>
  </div>
  
  <div class="printButton">
    <ui:include src="/incl/liveedit_create_actions.xhtml"/>
  </div>
 -->
  <div class="breadcrumbs">
  
    <h:form>
    
      <c:if test="#{!empty backendPath}">
    
          <!-- EasySOA : the root links to the Service Registry root if possible-->
           <c:choose>
           	<c:when test="#{backendPath.size() > 1}">
           	 <nxd:restDocumentLink document="#{backendPath[1].link}"
	            rendered="#{pathElement.link}">
	            <nxu:graphicImage value="/icons/UpFolder_icon.gif"
	              style="vertical-align:middle"/>
	          </nxd:restDocumentLink>
           	</c:when>
           	<c:otherwise>
           		<h:commandLink action="#{breadcrumbActions.navigateToParent}"
           rendered="#{facesContext.viewRoot.viewId != '/view_servers.xhtml'}"> 
		            <nxu:graphicImage value="/icons/UpFolder_icon.gif"
		              style="vertical-align:middle"/>
           		</h:commandLink>
           	</c:otherwise>
           </c:choose>
      
            <h:outputText value="#{backendPath.size()}"/>
        <nxu:dataList var="pathElement"
          value="#{backendPath}" first="2"> <!-- EasySOA : do not display the first elements -->
          <f:verbatim>&amp;gt;&amp;nbsp;</f:verbatim>
      	test
      	
          <nxd:restDocumentLink document="#{pathElement.documentModel}"
            rendered="#{pathElement.link}">
            <h:outputText value="#{nxd:titleOrId(pathElement.documentModel)}"/>
          </nxd:restDocumentLink>
          <h:outputText value="#{pathElement.name}" rendered="#{!pathElement.link}"/>
      
        </nxu:dataList>

      </c:if>
    </h:form>
  </div>

  <div style="clear:both"></div>

</div>