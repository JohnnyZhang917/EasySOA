<div xmlns:h="http://java.sun.com/jsf/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:c="http://java.sun.com/jstl/core">

  <c:if test="#{widget.mode != 'edit'}">

   <h:panelGroup rendered="#{field_0.version}">
      <h1>
      <nxu:methodResult name="sourceDocument"
        value="#{versionedActions.getSourceDocument(field_0)}">
        <h:outputText value="#{nxd:titleOrId(sourceDocument)}"/>
      </nxu:methodResult>
      (
      <h:outputText value="#{messages['label.version']}" />
      <h:outputText value=" #{field_1}"/>.
      <h:outputText value="#{field_2}"/>)
      </h1>
    </h:panelGroup>
    <h:panelGroup rendered="#{! field_0.version}">
      <h1>
      
        <h:outputText value="#{nxd:titleOrId(field_0)}"/>
        
	<!-- EasySOA: Display doctype -->
	<c:if test="#{field_0.getType() == 'Workspace' || field_0.getType() == 'Service' || field_0.getType() == 'ServiceAPI' || field_0.getType() == 'ServiceReference'}">
		<span class="doctype"><h:outputText value=" (#{field_0.getType().replaceFirst('Workspace', 'Appli. Impl.')})"/></span>
	</c:if>
        
        <span title="uid: #{field_0.id}">
          <nxd:restDocumentLink document="#{field_0}" pattern="id">
            <nxu:graphicImage value="/icons/permalink.png"
              style="vertical-align:middle"
              alt="#{messages['label.permalink']}"
              title="#{messages['label.permalink']}"/>
          </nxd:restDocumentLink>
       </span>
      </h1>

	<!-- EasySOA: Display url -->
	<div style="color: #444; margin: 5px; margin-top: 0">
		<c:choose>
			<c:when test="#{field_0.getType() == 'Workspace'}">
				<h:outputText value="#{field_0.getPropertyValue('app:url')}"/>
			</c:when>
			<c:when test="#{field_0.getType() == 'Service'}">
				<h:outputText value="#{field_0.getPropertyValue('serv:url')}"/>
			</c:when>
			<c:when test="#{field_0.getType() == 'ServiceAPI'}">
				<h:outputText value="#{field_0.getPropertyValue('api:url')}"/>
			</c:when>
			<c:when test="#{field_0.getType() == 'ServiceReference'}">
				<h:outputText value="#{field_0.getPropertyValue('sref:url')}"/>
			</c:when>
		</c:choose>
	</div>

    </h:panelGroup>

  </c:if>

</div>